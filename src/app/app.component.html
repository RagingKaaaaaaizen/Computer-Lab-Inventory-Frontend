<div class="app-container" [ngClass]="{ 'bg-light': account }" role="application" [attr.aria-label]="'Inventory Management System'">
    <!-- Skip to main content link for accessibility -->
    <a class="skip-to-main" href="#main-content" 
       (click)="focusMainContent()" 
       (keydown.enter)="focusMainContent()"
       tabindex="1">
        Skip to main content
    </a>

    <!-- Mobile Menu Button -->
    <button class="mobile-menu-btn" 
            *ngIf="account" 
            (click)="toggleMobileMenu()"
            [attr.aria-label]="'Toggle navigation menu'"
            [attr.aria-expanded]="isMobileMenuOpen"
            type="button"
            role="button">
        <i class="fas fa-bars" aria-hidden="true"></i>
        <span class="sr-only">Toggle Menu</span>
    </button>

    <!-- Sidebar Navigation -->
    <app-nav *ngIf="account" role="navigation" [attr.aria-label]="'Main navigation'"></app-nav>

    <!-- Main Content Area -->
    <main class="main-content" 
          [ngClass]="{ 'with-sidebar': account }" 
          id="main-content"
          role="main"
          [attr.aria-label]="'Main content area'"
          tabindex="-1">
        <!-- subnav router outlet -->
        <router-outlet name="subnav"></router-outlet>

        <!-- global alert -->
        <app-alert role="alert" aria-live="polite"></app-alert>

        <!-- main router outlet -->
        <router-outlet></router-outlet>
    </main>

    <!-- Global confirmation dialog -->
    <app-confirmation-dialog
        [isVisible]="showConfirmationDialog"
        [data]="confirmationData"
        (confirmed)="onConfirmationResult(true)"
        (cancelled)="onConfirmationResult(false)">
    </app-confirmation-dialog>
</div>
